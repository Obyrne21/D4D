<!--
  TODO: Update the EJS code to insert the following information:
    - display_title
    - url
    - suggested_link_text
    - publication_date
    - summary_short

  HINT: Not sure how to display the reviews, check out Bootstrap cards here: https://getbootstrap.com/docs/4.0/components/card/
-->
<%
  if (items) { %>
    <div class = "card-columns">
      <div class = "card border-white">
        <img src=<%- items.Poster %>></img>
      </div>
      <div class = "card border-white">
        <div class = "card-body">
          <h1><%- items.Title %></h1> <br>
          <h3>Cast</h3><br>
          <p><%- items.Actors%></p>
          <h3>Genre</h3><br>
          <p><%- items.Genre%></p>
          <h3>Plot</h3><br>
          <p><%- items.Plot%></p>
          <h3>Release Date</h3><br>
          <p><%- items.Released%></p>
          <h3>Ratings</h3><br>
          <% console.log(items.Ratings); %>
          <% if (items.Ratings !== undefined) { %>
            <% items.Ratings.forEach(function(object){ %>
              <p><%- object.Source %> <%- object.Value %></p><br>
            <% }); %>
          <% } %>
          
          <center><input class="btn btn-primary" type="review" name="Review" value = "Review" data-toggle="modal" data-target="#reviewModal"/></center><br>
        </div>
        </div>
    </div>

    <div class="modal fade" id="reviewModal" tableindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add Review</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form action="/write_review" method="POST">
              <div class="form-group row">
                <label for="movieTitle" class="col-sm-2 col-form-label">Movie Title</label>
                <div class="col-sm-10">
                  <input type="text" readonly class="form-control" id="movieTitle" name="movieTitle" value="<%- items.Title %>">
                  </div>
                </div>
              <div class="form-group row">
                <label for="movieReview" class="col-sm-2 col-form-label">Review</label>
                <div class="col-sm-10">
                  <textarea type="text"class="form-control" id="movieReview" name="movieReview" rows="10"></textarea>
                </div>
              </div>
              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Submit</button>
              </div>
            </form>
          </div>
          
        </div>
      </div>
    </div>


<% } %>

